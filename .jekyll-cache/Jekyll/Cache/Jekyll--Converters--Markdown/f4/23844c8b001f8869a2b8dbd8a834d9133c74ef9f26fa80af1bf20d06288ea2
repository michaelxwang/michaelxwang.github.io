I"Ë<p>Repayment is paying back the money you have previous received and
have paid the tax. For example, you need to pay back the tuition
reimbursement, signing bonus if you leave the company before serving
the number of years as required. Another example is to pay back
the salary during your temporary disablement when the income was
paid later by the insurance company.</p>

<p>Since you have paid the tax on the income at the time when you
believe you had the right to claim to the payment, you should be
able to recover the tax paid when the income was repaid. You can
either claim deduction <em>or</em> credit (if the repayment is more than
$3,000) <em>in the year of the repayment</em> according to <a href="https://www.irs.gov/pub/irs-pdf/p17.pdf">IRS publication
17</a>.</p>

<p>For W2 repayment, the deduction should be claimed in <a href="https://www.irs.gov/pub/irs-pdf/f1040sa.pdf">Schedule
A</a> (Itemized Deduction).
For repayment of $3,000 or less, enter it in line 23 subject to a
threshold of 2% of your adjusted gross income. For repayment over
$3,000, enter it in line 28 <em>not</em> subject to a threshold. See effect of
Tax Cuts and Jobs Act (TCJA) at the end.</p>

<p>If the repayment is more than $3,000, you can take a credit. The
amount of credit is the additional tax you paid <em>in prior year when
you included the income which you repaid in a later year</em>. You enter
the credit amount in line 73 of <a href="https://www.irs.gov/pub/irs-pdf/f1040.pdf">form
1040</a>, check the box d,
and write ‚Äústatement &lt;N&gt;‚Äù in the space. The statement &lt;N&gt; should include
‚ÄúIRC 1341‚Äù and the amount of credit.</p>

<p>The state treatment needs to be handle state by state.
<a href="https://www.ftb.ca.gov/forms/2017/17_540bk.pdf">California</a> mirror
the federal treatment, and you can claim either reduction or credit
(if repayment is more than $3,000) independent of the federal
selection. As the logic is more complex for natural language, I
wrote a section of pseudo code:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>IF ( repayment &gt; $3,000 AND CA is "CREDIT" ) {

   IF ( US is "DEDUCTION ) {

      Enter the amount of the federal deduction as a negative amount
      on Schedule CA (540), line 41 ("Other adjustments including
      California lottery losses") to negate the federal deduction
      IF it is carried over to CA.
   }

   Add the credit amount on line 76, the total payment line, of the
   Form 540. To the left of the total, write "IRC 1341" and the
   amount of the credit.
} 
ELSE IF ( CA is "DEDUCTION" ) { /* For any amount of repayment */
   IF ( US is "CREDIT" ) {

      Enter the amount of deduction as a positive number on On CA (540)
      line 41 "Other adjustments including California lottery losses".
      Deductions of $3,000 or less are subject to the 2% federal AGI
      limit.
   }
   ELSE IF ( US is "DEDUCTION" ) {

      Null /* There is nothing to do as the deduction has been carried over */
   }
}
</code></pre></div></div>

<p>VA deduction follows the federal, and credit is also allowed per
<a href="https://tax.virginia.gov/laws-rules-decisions/rulings-tax-commissioner/87-190">this</a>
letter ruling.</p>

<p>Generally speaking it is better to claim deduction if the current year‚Äôs income is higher and to
claim credit when prior year‚Äôs income is higher. However, you must use itemized deduction to deduct
the repayment which may limit your deduction. The ultimate test is to do two returns and compare
the result, and do the same for the state as well.</p>

<p><a href="https://en.wikipedia.org/wiki/Tax_Cuts_and_Jobs_Act_of_2017">The Tax Cut and Jobs Act</a>
eliminated or restricted many itemized deductions in 2018 through 2025, so this route is out.</p>
:ET