I"=<p>Over the years I have been amazed by the amount of math used in tax
laws, and some of them are complicated math. We have been talking about
depreciation for years, and we know there are percentage applied each
corresponding to the life of the property, and other variables, but have
you seen a literature where the actual percentages are derived? I have
not, and the purpose of this article is to derive math formulas used in
IRS tables.</p>

<p>First a little background on the tax rules.</p>

<p>When you purchase a major item for your business such as a printer that
can last for multiple years, you cannot deduct the full amount of cost
in the first year, but instead you should deduct a portion of the cost
for multiple years, this process is called depreciation.</p>

<p>The current tax depreciation system used in the United States is Modified
Accelerated Cost Recovery System, or <a href="https://en.wikipedia.org/wiki/MACRS">MACRS</a>. Almost everyone uses
the extensive tables in <a href="https://www.irs.gov/pub/irs-pdf/p946.pdf">IRS Publication 946</a>, a 120-page document,
or computer software to to compute the depreciation amount, but we will
see how these numbers come out.</p>

<p>The percentage you can use to depreciate depends on:</p>

<ul>
  <li>
    <p>Life: the number of years (Y) the property can last. It does not matter
how long it actually lasts, IRS says it last N years, then you need to
depreciate for N years.</p>
  </li>
  <li>
    <p>Declining balance rate: the multiplying factor (D) on the straight line rate (1/Y).
Therefore the depreciation amount is <code class="language-plaintext highlighter-rouge">D * 1/Y</code> over the remaining cost basis (the total cost basis less the accumulated depreciation in previous years).</p>
  </li>
  <li>
    <p>Convention: the discount for the first year. With half year (HY)
convention, the first year depreciation rate is reduced by 50%, as well
as the last year as if you only used the business property for only half
a year. With mid-quarter convention and the property placed in service
in the first quarter, the depreciate rate is reduced as 3.5/4 (87.5%)
for the first year, and 12.5% for the last year.</p>
  </li>
</ul>

<p>If we use above method alone, then the cost basis can never be fully
deprecated, so there is an additional rule that we switch to straight line rate
[over the remaining years] when the straight line rate is equal or higher.</p>

<p>The following is reproduced from Table A-1 of <a href="https://www.irs.gov/pub/irs-pdf/p946.pdf">IRS Publication 946</a> for MACRS
applicable percentage for property class 3-, 5-, 7-, 10-, 15-, and
20-Year Property with Half-Year Convention.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Recovery Years</th>
      <th style="text-align: right">3-Year</th>
      <th style="text-align: right">5-Year</th>
      <th style="text-align: right">7-Year</th>
      <th style="text-align: right">10-Year</th>
      <th style="text-align: right">15-Year</th>
      <th style="text-align: right">20-Year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right">1</td>
      <td style="text-align: right">33.33</td>
      <td style="text-align: right">20.00</td>
      <td style="text-align: right">14.29</td>
      <td style="text-align: right">10.00</td>
      <td style="text-align: right">5.00</td>
      <td style="text-align: right">3.750</td>
    </tr>
    <tr>
      <td style="text-align: right">2</td>
      <td style="text-align: right">44.45</td>
      <td style="text-align: right">32.00</td>
      <td style="text-align: right">24.49</td>
      <td style="text-align: right">18.00</td>
      <td style="text-align: right">9.50</td>
      <td style="text-align: right">7.219</td>
    </tr>
    <tr>
      <td style="text-align: right">3</td>
      <td style="text-align: right">*14.81</td>
      <td style="text-align: right">19.20</td>
      <td style="text-align: right">17.49</td>
      <td style="text-align: right">14.40</td>
      <td style="text-align: right">8.55</td>
      <td style="text-align: right">6.677</td>
    </tr>
    <tr>
      <td style="text-align: right">4</td>
      <td style="text-align: right">7.41</td>
      <td style="text-align: right">*11.52</td>
      <td style="text-align: right">12.49</td>
      <td style="text-align: right">11.52</td>
      <td style="text-align: right">7.70</td>
      <td style="text-align: right">6.177</td>
    </tr>
    <tr>
      <td style="text-align: right">5</td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">11.52</td>
      <td style="text-align: right">*8.93</td>
      <td style="text-align: right">9.22</td>
      <td style="text-align: right">6.93</td>
      <td style="text-align: right">5.713</td>
    </tr>
    <tr>
      <td style="text-align: right">6</td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">5.76</td>
      <td style="text-align: right">8.92</td>
      <td style="text-align: right">7.37</td>
      <td style="text-align: right">6.23</td>
      <td style="text-align: right">5.285</td>
    </tr>
    <tr>
      <td style="text-align: right">7</td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">8.93</td>
      <td style="text-align: right">*6.55</td>
      <td style="text-align: right">*5.90</td>
      <td style="text-align: right">4.888</td>
    </tr>
    <tr>
      <td style="text-align: right">8</td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">4.46</td>
      <td style="text-align: right">6.55</td>
      <td style="text-align: right">5.90</td>
      <td style="text-align: right">4.522</td>
    </tr>
    <tr>
      <td style="text-align: right">9</td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">6.56</td>
      <td style="text-align: right">5.91</td>
      <td style="text-align: right">*4.462</td>
    </tr>
    <tr>
      <td style="text-align: right">10</td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">6.55</td>
      <td style="text-align: right">5.90</td>
      <td style="text-align: right">4.461</td>
    </tr>
    <tr>
      <td style="text-align: right">11</td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">3.28</td>
      <td style="text-align: right">5.91</td>
      <td style="text-align: right">4.462</td>
    </tr>
    <tr>
      <td style="text-align: right">12</td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">5.90</td>
      <td style="text-align: right">4.461</td>
    </tr>
    <tr>
      <td style="text-align: right">13</td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">5.91</td>
      <td style="text-align: right">4.462</td>
    </tr>
    <tr>
      <td style="text-align: right">14</td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">5.90</td>
      <td style="text-align: right">4.461</td>
    </tr>
    <tr>
      <td style="text-align: right">15</td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">5.91</td>
      <td style="text-align: right">4.462</td>
    </tr>
    <tr>
      <td style="text-align: right">16</td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">2.95</td>
      <td style="text-align: right">4.461</td>
    </tr>
    <tr>
      <td style="text-align: right">17</td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">4.462</td>
    </tr>
    <tr>
      <td style="text-align: right">18</td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">4.461</td>
    </tr>
    <tr>
      <td style="text-align: right">19</td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">4.462</td>
    </tr>
    <tr>
      <td style="text-align: right">20</td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">4.461</td>
    </tr>
    <tr>
      <td style="text-align: right">21</td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">Â </td>
      <td style="text-align: right">2.231</td>
    </tr>
  </tbody>
</table>

<p>Let us derive the formula, for half-year convention as an example.</p>

<p>For the first year, the percentage is
<img src="https://latex.codecogs.com/svg.latex?\small&space;\frac{1}{Y}*D*50% = \frac{D}{2Y}" />,
According
to <a href="https://www.irs.gov/pub/irs-pdf/p946.pdf">IRS Publication 946</a>, the 3-, 5-, 7-, and 10-year classes use 200%
and the 15- and 20-year classes use 150% declining balance depreciation.
So for 20-year class property, the depreciation percentage is
<img src="https://latex.codecogs.com/svg.latex?\small&space;\frac{1.5}{2\times30} = 3.75%" />,
which is consistent with what in the table, similarly we can
verify all other classes in the table.</p>

<p>For the second year, the remaining balance is <img src="https://latex.codecogs.com/svg.latex?\small&space;1-\frac{D}{2Y}" />,
and the rate is: <img src="https://latex.codecogs.com/svg.latex?\small&space;\frac{D}{Y}" />, 
so the depreciation percentage is <img src="https://latex.codecogs.com/svg.latex?\small&space;(1-\frac{D}{2Y})\frac{D}{Y}" />.</p>

<p>For the third year, the remaining balance is <img src="https://latex.codecogs.com/svg.latex?\small&space;(1-\frac{D}{2Y})(1-\frac{D}{Y})" />,
and the rate is still <img src="https://latex.codecogs.com/svg.latex?\small&space;\frac{D}{Y}" />,
so the depreciation percentage is <img src="https://latex.codecogs.com/svg.latex?\small&space;(1-\frac{D}{2Y})(1-\frac{D}{Y})\frac{D}{Y}" />.</p>

<p>Generally, for the Nth year, the depreciation percentage is:
<img src="https://latex.codecogs.com/svg.latex?\small&space;(1-\frac{D}{2Y})(1-\frac{D}{Y})^{N-2}\frac{D}{Y}" /></p>

<p>Let us verify for the 5th year 15-Year class
property, we have D=1.5, Y=15, N=5, so the percentage should be:
<img src="https://latex.codecogs.com/svg.latex?\small&space;(1-\frac{1.5}{2*15})(1-\frac{1.5}{15})^{5-2}\frac{1.5}{15} = 7.695%" />.</p>

<p>and it is.</p>

<p>Now we need to find the year X in which we should switch to straight line
depreciation. At year X, we have
<img src="https://latex.codecogs.com/svg.latex?\small&space;Y-(X-1)+\frac{1}{2} = Y-X+\frac{3}{2}" />
years remaining,
we added 1/2 because the first year is treated as half year, so we
need another 1/2 to make up the full Y years. The straight line rate is
<img src="https://latex.codecogs.com/svg.latex?\small&space;\1/(Y-X+\frac{3}{2})" />.
over the remaining balance, we equalize this to D/Y to find X:</p>

<p><img src="https://latex.codecogs.com/svg.latex?\small&space;\frac{1}{Y-X+\frac{3}{2}} = \frac{D}{Y}" />.</p>

<p>Solving the equation we have:</p>

<p><img src="https://latex.codecogs.com/svg.latex?\small&space;X=Y(1-\frac{1}{D}) + \frac{3}{2}" />.</p>

<p>The depreciation rate is:</p>

<p><img src="https://latex.codecogs.com/svg.latex?\small&space;(1-\frac{D}{2Y})(1-\frac{D}{Y})^{N-2}/(Y-X+\frac{3}{2})" /></p>

<p>for all years except the last year which is the half of the above percentage.</p>

<p>Let us verify for 7-Year class property, Y=7, D=200%, so
<img src="https://latex.codecogs.com/svg.latex?\small&space;X=7(1-\frac{1}{2})+\frac{3}{2}=5" />, so from 5th year, it is switches to straight
line depreciation, and the depreciation rate for 5th, 6th, and 7th
years is:</p>

<p><img src="https://latex.codecogs.com/svg.latex?\small&space;(1-\frac{2}{2*7})(1-\frac{2}{7})^{5-2}/(7-5+\frac{3}{2}) = 8.925%" /></p>

<p>Please note also how the percentage alternates between 8.92 and 8.93
over the years. IRS tries to be as precise as possible beyond the second
decimal point.</p>

<p>To summarize, for half year convention, the depreciation percentage is:</p>

<p><img src="https://latex.codecogs.com/svg.latex?\large&space; P = \left\{ \begin{array}{ll}       1-\frac{D}{2Y}                                                     &amp; N = 1 \\       (1-\frac{D}{2Y})(1-\frac{D}{Y})^{N-2}\frac{D}{Y}                   &amp; 2 \leq N &lt; \lceil{Y(1-\frac{1}{D})+\frac{3}{2}}\rceil  \\       (1-\frac{D}{2Y})(1-\frac{D}{Y})^{N-2}\frac{1}{(Y-N+\frac{3}{2})}   &amp; \lceil{Y(1-\frac{1}{D})+\frac{3}{2}}\rceil \leq N \leq Y  \\       (1-\frac{D}{2Y})(1-\frac{D}{Y})^{N-2}\frac{1}{2(Y-N+\frac{3}{2})}  &amp; N = Y + 1 \\ \end{array}  \right.  " /></p>

<p>where <img src="https://latex.codecogs.com/svg.latex?\large&space;\lceil{x}\rceil" /> is the least integer greater than or equal to x.</p>

<p>From this derivation and verification we can see the tax code is not a
mess of rules, in it there is strict logic and mathematical precision.
We will see other examples. By the way, the commonwealth of Virginia does
not honor the federal accelerated depreciation, so every year we need add
a portion of the extra depreciation as compared to linear depreciation to the Virginia income in early
years, and subtract deficiency in depreciation in later years, and this appears as mysteriously as
â€œfixed date conformityâ€.</p>

<p>The equation can be extended to any convention. Let p denotes the portion
for the first year the asset is in service, for example, if an asset is placed
in service in December with Mid-Quarter convention, then d=1/8. The general
equation is:</p>

<p><img src="https://latex.codecogs.com/svg.latex?\large&space; P = \left\{ \begin{array}{ll}       1-\frac{pD}{Y}                                             &amp; N = 1 \\       (1-\frac{pD}{Y})(1-\frac{D}{Y})^{N-2}\frac{D}{Y}           &amp; 2 \leq N &lt; \lceil{Y(1-\frac{1}{D})+2-d}\rceil  \\       (1-\frac{pD}{Y})(1-\frac{D}{Y})^{N-2}\frac{1}{(Y-N+2-p)}   &amp; \lceil{Y(1-\frac{1}{D})+2-d}\rceil \leq N \leq Y  \\       (1-\frac{pD}{Y})(1-\frac{D}{Y})^{N-2}\frac{1}{2(Y-N+2-p)}  &amp; N = Y + 1 \\ \end{array}  \right.  " /></p>

:ET