---
layout: post
title: "Calculating the Average Daily Balance"
categories:
- tax
---

<img src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRWyqc0xf5-AVN9-fshHvrFDXB-PYEMj8w9Z7FbCIYPUzELpW5VUXDBcFazSGOT-SAlBQBoaZxk8LnQ/pubchart?oid=1827100040&format=image"/>

The mortgage interest deduction allows taxpayers to deduct interest paid on qualified residence loans.
Under the Tax Cuts and Jobs Act (TCJA), the maximum loan amount eligible for deduction is $750,000 for mortgages incurred after December 15, 2017.

The IRS provides an average balance method to prorate the interest generated by a $750,000 loan amount as:

$$
\text{Qualified Interest} = \text{Total Interest} \times \min\left(1, \frac{750,000}{\text{Average Balance}}\right) \tag{3}
$$

Under Treasury Regulation [§1.163-10T(h)][reg163]{:target="_blank"}, several
acceptable methods are available for determining the average balance of debt
secured by a qualified residence:

- Daily Basis Method ([Reg. §1.163-10T(h)(3)][reg163]{:target="_blank"})
- Interest Rate Method ([Reg. §1.163-10T(h)(4)][reg163]{:target="_blank"})
- Beginning and Ending Balance Method ([Reg. §1.163-10T(h)(5)][reg163]{:target="_blank"})
- Highest Balance Method ([Reg. §1.163-10T(h)(6)][reg163]{:target="_blank"})

Among these methods, "Interest Rate Method and Highest Balance Method are generally disvantages because they do not average down the balance in periods
where you have low loan amount. Beginning and Ending Balance Method is better but it "requires level payments at fixed equal intervals". 

Daily Basis Method calculates the average mortgage balance by weighting the
actual principal outstanding each day over the course of the year. This can
favor taxpayers by averaging down the balance when you do not have a loan
during some months but still own the home as a residence. For example, John
Smith starts 2024 with a $1.5 million mortgage and pays it off on June 30.
Under this method, his average balance is about $750,000, allowing full
deduction of the interest paid. However this method is complex: you need to have 365 data points. 

This post describes a simple and automatic tool to calculate the average daily balance under Daily Basis Method.

Let us take a look at a use case illustrated in the above diagram:

- At day 1 taxpayer had a loan of $1.0 million
- At day 2 taxpayer took a new higher loan of $1.7 million to buy a new home
- At day 3 taxpayer sold her old home
- At day 4 taxpayer paid down the new loan with the proceeds from the old home

This scenario is summarized with the table below:

| Days | Loan 1 | Loan 2<br> before paydown | Loan 2<br> after paydown | Daily balance<br> over all loans|
|------|--------|------------------------|------------------------|----------------|
| 1    | $1.0   |                        |                        | $1.0           |
| 2    | $0.9   | $1.7                   |                        | $2.6           |
| 3    | $0.8   | $1.5                   |                        | $2.2           |
| 4    | $0.0   | $1.3                   |                        | $1.1           |
| 5    |        |                        | $0.5                   | $0.7           |
| 6    |        |                        | $0.3                   | $0.5           |
| 7    |        |                        | $0.1                   | $0.3           |
| Sum over days<br> for each loan | $2.7 | $4.5            | $0.9                   | $8.4           |

With the Daily Basis Method, we are supposed to:

- Add all the loan balances for each day.
- Add all the daily balances.
- Divide by the number of days while the taxpayer owned a home (not he had a loan).

This is illustrated by the "Daily balance" column. The sum of daily balance is \$8.4 million, since
we have 7 days in this example, the everage daily balance is \$1.2 million.

By the commutative property of addition, we can calculate the sum of daily balance alternatively as:

- Add all the loan balances cross all the days.
- Add all the loan sums.

This is illustrated by the "Sum over days for each loan" row.

Most of often than not, a loan is paid by monthly payment, so the daily balances can be approximated linearly, so 
we could use the average balance multiplied by the number of days to do the calculation.
For loan 2 in the digram that has a big paydown, we can separate it into 2 straight line segments. 

This [Google Sheets doc][google-sheets]{:target="_blank"} automate the calculation. If you are in this situation, please
include the spreadsheet in you tax documents.

[reg163]: https://www.taxnotes.com/research/federal/cfr26/1.163-10T
[google-sheets]: https://docs.google.com/spreadsheets/d/1906CSp8IiGdfGlHGJUj4ddRvvYFU66puhNXlILLfPm8
